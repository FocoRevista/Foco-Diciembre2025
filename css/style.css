/* === RESET & BASE === */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

html, body {
  height: 100%;
  overflow: hidden; /* Evita scroll nativo, controlamos todo en la app */
}

body {
  font-family: 'Inter', sans-serif;
  /* Fondo oscuro elegante "Premium" */
  background: radial-gradient(circle at center, #2b2b2b 0%, #1a1a1a 100%);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* === LAYOUT PRINCIPAL === */
.app {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: relative;
  overflow: hidden;
}

/* Topbar */
.topbar {
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 100;
}

.brand { font-weight: 700; letter-spacing: 1px; font-size: 1.2rem; opacity: 0.9; }

.icon-btn {
  background: rgba(255,255,255,0.1);
  border: none;
  color: #fff;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-left: 10px;
  transition: background 0.3s;
}
.icon-btn:hover { background: rgba(255,255,255,0.2); }

/* Bottom Bar */
.bottom-bar {
  text-align: center;
  padding: 15px;
  font-size: 0.9rem;
  opacity: 0.7;
  z-index: 100;
}

/* === AREA DEL LIBRO === */
.book-wrap {
  flex-grow: 1;
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 2000px; /* Profundidad 3D */
  overflow: visible;
}

.book {
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.5s ease; /* Suavidad para el zoom */
}

/* === PÁGINAS (ESTRUCTURA) === */
/* Desktop: Doble página */
.sheet {
  display: flex;
  width: 100%;
  height: 100%;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

.page-side {
  flex: 1;
  height: 100%;
  position: relative;
  overflow: hidden;
  background: #fff;
}

.page-side img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* Asegura que se vea toda la imagen */
  display: block;
}

/* Sombra interior realista (reemplaza la barra gris fea) */
/* Sombra lado izquierdo (hacia el centro) */
.sheet .page-side:first-child::after {
  content: ''; position: absolute; right: 0; top: 0; width: 40px; height: 100%;
  background: linear-gradient(to right, transparent, rgba(0,0,0,0.15));
  pointer-events: none;
}
/* Sombra lado derecho (desde el centro) */
.sheet .page-side:last-child::after {
  content: ''; position: absolute; left: 0; top: 0; width: 40px; height: 100%;
  background: linear-gradient(to left, transparent, rgba(0,0,0,0.15));
  pointer-events: none;
}

/* === EFECTO FLIP 3D === */
.flipper {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  transform-style: preserve-3d;
  pointer-events: none;
  z-index: 50;
}

/* === NAVEGACIÓN === */
.nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(5px);
  border: none;
  color: white;
  width: 50px; height: 50px;
  border-radius: 50%;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s;
  z-index: 200;
}
.nav:hover { background: rgba(255,255,255,0.3); transform: translateY(-50%) scale(1.1); }
.nav:active { transform: translateY(-50%) scale(0.95); }
.nav.left { left: 20px; }
.nav.right { right: 20px; }

/* === MEDIA QUERY: MÓVIL (SINGLE PAGE) === */
@media (max-width: 768px) {
  /* Ocultamos controles de escritorio no vitales */
  .nav { width: 40px; height: 40px; }
  .nav.left { left: 10px; }
  .nav.right { right: 10px; }

  /* En móvil, la imagen ocupa todo el ancho disponible */
  .book {
    width: 95vw; 
    height: auto;
    aspect-ratio: 1 / 1.414; /* Relación de aspecto aproximada A4/Carta */
  }

  .sheet {
    /* Forzamos una sola columna en móvil */
    display: block; 
  }
  
  /* Ocultamos sombras de lomo en móvil, no tienen sentido */
  .sheet .page-side:first-child::after,
  .sheet .page-side:last-child::after {
    display: none;
  }
  
  /* Ajuste de imagen */
  .page-side img {
    object-fit: fill; 
  }
}

/* Escritorio: Tamaño fijo o proporcional */
@media (min-width: 769px) {
  .book {
    height: 85vh; /* Altura basada en ventana */
    aspect-ratio: 1.414 / 1; /* Doble página (landscape) */
  }
}
