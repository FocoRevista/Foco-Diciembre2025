/* === LIBRO === */
.book-container {
  flex-grow: 1; position: relative; display: flex; align-items: center; justify-content: center;
  overflow: hidden; 
  /* PERSPECTIVA CRÍTICA: Esto define qué tan "3D" se ve el movimiento */
  perspective: 3000px; 
  padding: 20px;
}

.book {
  position: relative; 
  transform-style: preserve-3d; /* Permite que los hijos vivan en 3D */
  /* La transición base es rápida para el arrastre, la animación 3D la controla la clase */
  transition: transform 0.1s; 
  display: flex; background: transparent; 
  box-shadow: 0 20px 50px rgba(0,0,0,0.6);
  transform-origin: center center; /* Girar desde el centro */
}

/* ANIMACIONES DE GIRO 3D */
/* Cuando vas a la SIGUIENTE página */
.book.flipping-next {
  animation: flipNext 0.6s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;
}

/* Cuando vas a la página ANTERIOR */
.book.flipping-prev {
  animation: flipPrev 0.6s cubic-bezier(0.645, 0.045, 0.355, 1.000) forwards;
}

/* Keyframes: Gira 90 grados (se pone de canto), cambia imagen, y regresa */
@keyframes flipNext {
  0% { transform: rotateY(0deg) scale(1); opacity: 1; }
  50% { transform: rotateY(-90deg) scale(0.9); opacity: 0.5; } /* Punto invisible */
  100% { transform: rotateY(0deg) scale(1); opacity: 1; }
}

@keyframes flipPrev {
  0% { transform: rotateY(0deg) scale(1); opacity: 1; }
  50% { transform: rotateY(90deg) scale(0.9); opacity: 0.5; } /* Punto invisible lado contrario */
  100% { transform: rotateY(0deg) scale(1); opacity: 1; }
}

/* REBOBINADO (Mantenemos tu efecto de restart) */
.book.rewinding {
  transform: scale(0.8) translateZ(-500px) rotateY(360deg) !important;
  opacity: 0 !important; 
  transition: all 0.8s ease-in-out !important;
}
