/* Reset básico */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body{ height:100%; }
body{
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: linear-gradient(180deg,#e9e9e9 0%, #dedede 100%);
  display:flex; align-items:center; justify-content:center; padding:20px;
}

.app{ width:100%; max-width:1100px; }
.topbar{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.topbar button{ background:#fff; border:1px solid rgba(0,0,0,0.08); padding:8px 10px; border-radius:6px; cursor:pointer; }
.topbar .pager{ font-size:14px; color:#333; padding-right:8px; }

.book-wrap{ position:relative; width:100%; height:700px; }

.book{
  width:100%; height:100%; position:relative; margin: 0 auto; perspective:2500px; transform-style:preserve-3d;
  display:flex; align-items:center; justify-content:center;
}

/* SPINE (lomo) */
.book::before{
  content:''; position:absolute; left:50%; top:0; transform:translateX(-50%); width:6px; height:100%; background:linear-gradient(180deg,#bbb,#888); box-shadow: inset 0 0 12px rgba(0,0,0,0.15); z-index:5; border-radius:2px;
}

.sheet{
  position:absolute; width:90%; max-width:980px; height:92%; transform-style:preserve-3d; display:flex; align-items:stretch; justify-content:center;
}

.side{
  width:50%; height:100%; overflow:hidden; backface-visibility:hidden; position:relative; background:#fff; box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

.side img{ width:100%; height:100%; object-fit:cover; display:block; }

/* bordes interiores para simular páginas */
.side.left{ border-right:1px solid rgba(0,0,0,0.06); }
.side.right{ border-left:1px solid rgba(0,0,0,0.06); }

/* Página que está girando */
.page-turn{
  position:absolute; width:50%; height:100%; top:0; transform-origin:left center; transform-style:preserve-3d; z-index:50; pointer-events:none;
}

.page-turn .face{
  position:absolute; width:100%; height:100%; backface-visibility:hidden; overflow:hidden; box-shadow: 0 12px 40px rgba(0,0,0,0.28);
}

/* cara frontal (visible) */
.page-turn .face.front{ transform: rotateY(0deg); }
/* cara posterior (trasera de la hoja) */
.page-turn .face.back{ transform: rotateY(180deg); filter:brightness(0.95); }

/* sombra dinámica para dar realismo */
.page-shadow{ position:absolute; width:50%; height:100%; top:0; background:linear-gradient(90deg, rgba(0,0,0,0.28), transparent); pointer-events:none; z-index:40; opacity:0; transition:opacity 0.25s; }

/* contols */
.nav{ position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.55); color:white; border:none; width:58px; height:58px; font-size:34px; border-radius:50%; cursor:pointer; display:flex; align-items:center; justify-content:center; }
.nav.left{ left:-30px; }
.nav.right{ right:-30px; }

/* estado pequeño (móviles) */
@media (max-width:700px){
  .book-wrap{ height:80vh; }
  .nav.left{ left:10px; }
  .nav.right{ right:10px; }
}

/* zoom overlay */
.zoom-overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; z-index:9999; }
.zoom-overlay img{ max-width:95%; max-height:95%; box-shadow:0 10px 40px rgba(0,0,0,0.6); }
.zoom-overlay.show{ display:flex; }

/* cursor mientras arrastras */
.book.dragging{ cursor:grabbing; }
